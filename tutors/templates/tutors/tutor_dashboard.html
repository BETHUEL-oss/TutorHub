{% extends "base.html" %}
{% load static %}

{% block title %}Tutors Dashboard{% endblock %}

{% block content %}
<div class="container mx-auto py-8 px-4 bg-[#000000] min-h-screen text-white">
    <h1 class="text-3xl font-bold mb-6 text-yellow-500">Your Courses</h1>

    <a href="{% url 'add_courses' %}" class="bg-[#F59E0B] hover:bg-[#D97706] text-black px-4 py-2 rounded transition font-semibold">
        Add New Course
    </a>

    <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        {% for course in courses %}
        <div class="bg-[#0A0A0A] rounded-lg shadow-xl shadow-black/50 overflow-hidden flex flex-col border border-[#1F1F1F]">
            {% with img=courses.get_primary_image %}
                {% if img %}
                    <img src="{{ img.image.url }}" alt="{{ courses.name }}" class="w-full h-48 object-cover">
                {% else %}
                    <img src="{% static 'img/no-image.jpg' %}" alt="No image" class="w-full h-48 object-cover bg-gray-900 border-b border-[#1F1F1F]">
                {% endif %}
            {% endwith %}
            <div class="p-4 flex-1 flex flex-col justify-between">
                <div>
                    <h2 class="text-xl font-semibold mb-1 text-white">{{ courses.name }}</h2>
                    <p class="text-gray-300 mb-2">Ksh{{ courses.price }} / {{ courses.get_unit_display }}</p>
                </div>
                <div class="flex space-x-2 mt-2">
                    <a href="{% url 'edit_courses' course.pk %}" class="bg-[#FBBF24] hover:bg-[#F59E0B] px-3 py-1 rounded text-black font-medium transition">Edit</a>
                    <a href="{% url 'delete_courses' course.pk %}" class="bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-white font-medium transition">Delete</a>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-gray-500 col-span-full mt-4">No courses available at the moment.</p>
        {% endfor %}
    </div>
</div>
{% endblock content %}